{\rtf1\ansi\ansicpg1252\cocoartf2869
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\fnil\fcharset0 HelveticaNeue-Bold;\f1\fnil\fcharset0 .SFNS-Regular;\f2\fswiss\fcharset0 Helvetica;
\f3\fnil\fcharset0 .SFNS-Semibold;\f4\fmodern\fcharset0 Courier;\f5\fnil\fcharset0 .AppleSystemUIFontMonospaced-Regular;
}
{\colortbl;\red255\green255\blue255;\red14\green14\blue14;\red0\green0\blue0;\red111\green90\blue30;
\red181\green0\blue19;\red20\green0\blue196;\red151\green0\blue126;\red13\green100\blue1;\red135\green5\blue129;
}
{\*\expandedcolortbl;;\cssrgb\c6700\c6700\c6700;\csgray\c0;\cssrgb\c51373\c42353\c15686;
\cssrgb\c76863\c10196\c8627;\cssrgb\c10980\c0\c81176;\cssrgb\c66667\c5098\c56863;\cssrgb\c0\c45490\c0;\cssrgb\c60784\c13725\c57647;
}
\margl1440\margr1440\vieww11520\viewh8400\viewkind0
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\sl324\slmult1\pardirnatural\partightenfactor0

\f0\b\fs32 \cf2 FireVector
\f1\b0 \
Short. Modern. Expandable. Works as a mobile tool and a research platform.\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\sl324\slmult1\pardirnatural\partightenfactor0
\cf2 \
\
Below is a production-oriented way to turn that worksheet into an app: a 
\f0\b data model + calculation engine + UI renderer + export
\f1\b0 . You can implement it as a web app (works on phones) with offline support, or as a native mobile app. I\'92ll assume you want something you can ship quickly and iterate.\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs24 \cf0 \
\uc0\u11835 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\sl324\slmult1\pardirnatural\partightenfactor0

\f1\fs32 \cf2 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\sl324\slmult1\pardirnatural\partightenfactor0

\f3\b\fs38 \cf2 1) MVP scope (what the app should do)
\f1\b0\fs32 \
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\sl324\slmult1\pardirnatural\partightenfactor0

\f3\b\fs34 \cf2 Core (v0)
\f1\b0\fs32 \
\pard\tqr\tx100\tx260\li260\fi-260\sl324\slmult1\sb240\partightenfactor0
\cf2 	\'95	Create a \'93Fire Behavior Observation\'94 record (Incident Overview + Environment + Wind/Slope + ROS + Notes + LCES).\
	\'95	Mirror the worksheet layout (Current/Expected sketch panels, checkboxes, computed fields).\
	\'95	Run calculations (EWS ratio, ROS ratio, observed spread adjustments).\
	\'95	Export:\
\pard\tqr\tx500\tx660\li660\fi-660\sl324\slmult1\sb240\partightenfactor0
\cf2 	\'95	
\f0\b PDF
\f1\b0  that prints like the original.\
	\'95	
\f0\b JSON
\f1\b0  for research ingestion and analytics.\
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\sl324\slmult1\pardirnatural\partightenfactor0

\f3\b\fs34 \cf2 Next (v1)
\f1\b0\fs32 \
\pard\tqr\tx100\tx260\li260\fi-260\sl324\slmult1\sb240\partightenfactor0
\cf2 	\'95	Offline-first (crews in the field).\
	\'95	Photo capture for sketches (or draw canvas).\
	\'95	GPS/time auto-fill.\
	\'95	Sync to backend when online.\
	\'95	Role-based sharing to EOC / incident staff.\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs24 \cf0 \
\uc0\u11835 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\sl324\slmult1\pardirnatural\partightenfactor0

\f1\fs32 \cf2 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\sl324\slmult1\pardirnatural\partightenfactor0

\f3\b\fs38 \cf2 2) Data model (canonical JSON schema)
\f1\b0\fs32 \
\
Use a single record type with nested sections. This keeps it compatible with research pipelines (R, Python, GIS), and you can map to ICS-like schemas later.\
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\sl324\slmult1\pardirnatural\partightenfactor0

\f3\b\fs34 \cf2 fire_observation.schema.json (conceptual)
\f2\b0\fs24 \cf0 \
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f4\fs28 \cf3 \{\
  \cf4 "id"\cf3 : \cf5 "uuid"\cf3 ,\
  \cf4 "created_at"\cf3 : \cf5 "ISO-8601"\cf3 ,\
  \cf4 "updated_at"\cf3 : \cf5 "ISO-8601"\cf3 ,\
  \cf4 "incident"\cf3 : \{\
    \cf4 "name"\cf3 : \cf5 ""\cf3 ,\
    \cf4 "observer_name"\cf3 : \cf5 ""\cf3 ,\
    \cf4 "datetime_local"\cf3 : \cf5 "ISO-8601"\cf3 ,\
    \cf4 "location"\cf3 : \{ \cf4 "lat"\cf3 : \cf6 0.0\cf3 , \cf4 "lon"\cf3 : \cf6 0.0\cf3 , \cf4 "datum"\cf3 : \cf5 "WGS84"\cf3  \},\
    \cf4 "perimeter_current_media"\cf3 : [\{ \cf4 "type"\cf3 : \cf5 "image"\cf3 , \cf4 "uri"\cf3 : \cf5 ""\cf3  \}],\
    \cf4 "perimeter_expected_media"\cf3 : [\{ \cf4 "type"\cf3 : \cf5 "image"\cf3 , \cf4 "uri"\cf3 : \cf5 ""\cf3  \}],\
    \cf4 "next_big_change"\cf3 : \cf5 ""\cf3 \
  \},\
  \cf4 "environment"\cf3 : \{\
    \cf4 "relative_humidity_pct"\cf3 : \cf7 null\cf3 ,\
    \cf4 "fuel_profile"\cf3 : \{\
      \cf4 "litter_sfc"\cf3 : \cf7 false\cf3 ,\
      \cf4 "grass_sfc"\cf3 : \cf7 false\cf3 ,\
      \cf4 "crown_aer"\cf3 : \cf7 false\cf3 \
    \}\
  \},\
  \cf4 "wind_slope"\cf3 : \{\
    \cf4 "observed"\cf3 : \{\
      \cf4 "eye_level_ws"\cf3 : \cf7 null\cf3 ,\
      \cf4 "midflame_ws"\cf3 : \cf7 null\cf3 ,\
      \cf4 "slope_contribution"\cf3 : \cf7 null\cf3 ,\
      \cf4 "total_ews"\cf3 : \cf7 null\cf3 \
    \},\
    \cf4 "predicted_20ft"\cf3 : \{\
      \cf4 "eye_level_ws"\cf3 : \cf7 null\cf3 ,\
      \cf4 "midflame_ws"\cf3 : \cf7 null\cf3 ,\
      \cf4 "slope_contribution"\cf3 : \cf7 null\cf3 ,\
      \cf4 "total_ews"\cf3 : \cf7 null\cf3 \
    \},\
    \cf4 "ews_ratio"\cf3 : \cf7 null\cf3 ,\
    \cf4 "ews_ratio_basis"\cf3 : \{ \cf4 "big_ews"\cf3 : \cf7 null\cf3 , \cf4 "small_ews"\cf3 : \cf7 null\cf3  \}\
  \},\
  \cf4 "ros"\cf3 : \{\
    \cf4 "observed_spread"\cf3 : \{ \cf4 "value"\cf3 : \cf7 null\cf3 , \cf4 "unit"\cf3 : \cf5 "ft/min"\cf3  \},\
    \cf4 "ros_ratio"\cf3 : \cf7 null\cf3 ,\
    \cf4 "direction"\cf3 : \cf5 "faster|slower|unknown"\cf3 ,\
    \cf4 "calc"\cf3 : \{\
      \cf4 "obs_over_ratio"\cf3 : \cf7 null\cf3 ,\
      \cf4 "obs_times_ratio"\cf3 : \cf7 null\cf3 \
    \}\
  \},\
  \cf4 "observations_log"\cf3 : [\
    \{\
      \cf4 "time_local"\cf3 : \cf5 "HH:MM"\cf3 ,\
      \cf4 "fire_behavior_notes"\cf3 : \cf5 ""\cf3 ,\
      \cf4 "weather_trends"\cf3 : \{ \cf4 "temp_f"\cf3 : \cf7 null\cf3 , \cf4 "rh_pct"\cf3 : \cf7 null\cf3 , \cf4 "wind"\cf3 : \cf5 ""\cf3  \}\
    \}\
  ],\
  \cf4 "safety_lces"\cf3 : \{\
    \cf4 "lookouts"\cf3 : \{ \cf4 "checked"\cf3 : \cf7 false\cf3 , \cf4 "notes"\cf3 : \cf5 ""\cf3  \},\
    \cf4 "communications"\cf3 : \{ \cf4 "checked"\cf3 : \cf7 false\cf3 , \cf4 "notes"\cf3 : \cf5 ""\cf3  \},\
    \cf4 "escape_routes"\cf3 : \{ \cf4 "checked"\cf3 : \cf7 false\cf3 , \cf4 "notes"\cf3 : \cf5 ""\cf3  \},\
    \cf4 "safety_zones"\cf3 : \{ \cf4 "checked"\cf3 : \cf7 false\cf3 , \cf4 "notes"\cf3 : \cf5 ""\cf3  \}\
  \},\
  \cf4 "meta"\cf3 : \{\
    \cf4 "source"\cf3 : \cf5 "field_app"\cf3 ,\
    \cf4 "version"\cf3 : \cf5 "0.1.0"\cf3 ,\
    \cf4 "tags"\cf3 : [],\
    \cf4 "research_fields"\cf3 : \{\
      \cf4 "admin_capacity_flag"\cf3 : \cf7 null\cf3 ,\
      \cf4 "single_point_of_failure_notes"\cf3 : \cf5 ""\cf3 \
    \}\
  \}\
\}
\f2\fs24 \cf0 \
\
\
\uc0\u11835 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\sl324\slmult1\pardirnatural\partightenfactor0

\f1\fs32 \cf2 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\sl324\slmult1\pardirnatural\partightenfactor0

\f3\b\fs38 \cf2 3) Calculation engine (keep it config-driven)
\f1\b0\fs32 \
\
You likely don\'92t want hardcoded \'93Tbl 1 / Tbl 2 / Fig A/B/C\'94 logic in UI code. Put it in a small engine module with:\
\pard\tqr\tx100\tx260\li260\fi-260\sl324\slmult1\sb240\partightenfactor0
\cf2 	\'95	unit normalization\
	\'95	formula computations\
	\'95	optional table lookup via JSON\
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\sl324\slmult1\pardirnatural\partightenfactor0

\f3\b\fs34 \cf2 Engine interface
\f1\b0\fs32 \
\pard\tqr\tx100\tx260\li260\fi-260\sl324\slmult1\sb240\partightenfactor0
\cf2 	\'95	Inputs: 
\f5 FireObservation
\f1 \
	\'95	Outputs: derived fields: 
\f5 total_ews
\f1 , 
\f5 ews_ratio
\f1 , 
\f5 ros.calc.*
\f1 \
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\sl324\slmult1\pardirnatural\partightenfactor0

\f3\b\fs34 \cf2 Example formulas (safe placeholders)
\f1\b0\fs32 \
\pard\tqr\tx100\tx260\li260\fi-260\sl324\slmult1\sb240\partightenfactor0
\cf2 	\'95	
\f5 total_ews = midflame_ws + slope_contribution
\f1 \
	\'95	
\f5 ews_ratio = big_ews / small_ews
\f1  (when both present and small != 0)\
	\'95	
\f5 obs_over_ratio = observed_spread / ros_ratio
\f1 \
	\'95	
\f5 obs_times_ratio = observed_spread * ros_ratio
\f1 \
\
You can later swap in your actual table-based mappings for EWS/ROS ratio by loading JSON \'93lookup tables\'94.\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs24 \cf0 \
\uc0\u11835 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\sl324\slmult1\pardirnatural\partightenfactor0

\f1\fs32 \cf2 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\sl324\slmult1\pardirnatural\partightenfactor0

\f3\b\fs38 \cf2 4) Reference architecture (fast to build, scalable)
\f1\b0\fs32 \
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\sl324\slmult1\pardirnatural\partightenfactor0

\f3\b\fs34 \cf2 Option A (recommended): Offline-first web app
\f1\b0\fs32 \
\pard\tqr\tx100\tx260\li260\fi-260\sl324\slmult1\sb240\partightenfactor0
\cf2 	\'95	
\f0\b Frontend:
\f1\b0  Next.js (React) + PWA + IndexedDB (Dexie)\
	\'95	
\f0\b Backend:
\f1\b0  FastAPI + SQLite/Postgres\
	\'95	
\f0\b Export:
\f1\b0  server-side PDF (WeasyPrint) or client-side (pdf-lib)\
	\'95	
\f0\b Auth:
\f1\b0  simple email magic link or OAuth later\
\
Why: runs on any phone, easy iteration, offline storage, easy PDF.\
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\sl324\slmult1\pardirnatural\partightenfactor0

\f3\b\fs34 \cf2 Option B: Native mobile
\f1\b0\fs32 \
\pard\tqr\tx100\tx260\li260\fi-260\sl324\slmult1\sb240\partightenfactor0
\cf2 	\'95	Flutter / React Native\
	\'95	SQLite on device + sync\
	\'95	PDF export via native libs\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs24 \cf0 \
\uc0\u11835 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\sl324\slmult1\pardirnatural\partightenfactor0

\f1\fs32 \cf2 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\sl324\slmult1\pardirnatural\partightenfactor0

\f3\b\fs38 \cf2 5) Backend scaffold (FastAPI)
\f1\b0\fs32 \
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\sl324\slmult1\pardirnatural\partightenfactor0

\f3\b\fs34 \cf2 Endpoints
\f1\b0\fs32 \
\pard\tqr\tx100\tx260\li260\fi-260\sl324\slmult1\sb240\partightenfactor0
\cf2 	\'95	
\f5 POST /observations
\f1  create\
	\'95	
\f5 GET /observations/\{id\}
\f1  fetch\
	\'95	
\f5 PUT /observations/\{id\}
\f1  update\
	\'95	
\f5 GET /observations/\{id\}/pdf
\f1  export PDF\
	\'95	
\f5 POST /observations/\{id\}/media
\f1  upload sketch/photo\
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\sl324\slmult1\pardirnatural\partightenfactor0

\f3\b\fs34 \cf2 Minimal FastAPI skeleton
\f2\b0\fs24 \cf0 \
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f4\fs28 \cf8 # app/main.py\cf3 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0
\cf7 from\cf3  fastapi \cf7 import\cf3  FastAPI, UploadFile, File, HTTPException\
\cf7 from\cf3  pydantic \cf7 import\cf3  BaseModel\
\cf7 from\cf3  uuid \cf7 import\cf3  uuid4\
\cf7 from\cf3  datetime \cf7 import\cf3  datetime, timezone\
\
app = FastAPI(title=\cf5 "Fire Behavior Worksheet API"\cf3 )\
\
\cf7 class\cf3  FireObservation(BaseModel):\
    id: str | \cf7 None\cf3  = \cf7 None\cf3 \
    created_at: str | \cf7 None\cf3  = \cf7 None\cf3 \
    updated_at: str | \cf7 None\cf3  = \cf7 None\cf3 \
    incident: dict\
    environment: dict\
    wind_slope: dict\
    ros: dict\
    observations_log: list = []\
    safety_lces: dict\
    meta: dict | \cf7 None\cf3  = \cf7 None\cf3 \
\
DB: dict[str, dict] = \{\}  \cf8 # replace with SQLite/Postgres\cf3 \
\
\cf7 def\cf3  now_iso():\
    \cf7 return\cf3  datetime.now(timezone.utc).isoformat()\
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0
\cf9 @app.post(\cf5 "/observations"\cf9 , response_model=FireObservation)\cf3 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0
\cf7 def\cf3  create_obs(obs: FireObservation):\
    oid = str(uuid4())\
    payload = obs.model_dump()\
    payload[\cf5 "id"\cf3 ] = oid\
    payload[\cf5 "created_at"\cf3 ] = now_iso()\
    payload[\cf5 "updated_at"\cf3 ] = payload[\cf5 "created_at"\cf3 ]\
    DB[oid] = payload\
    \cf7 return\cf3  payload\
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0
\cf9 @app.get(\cf5 "/observations/\{obs_id\}"\cf9 , response_model=FireObservation)\cf3 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0
\cf7 def\cf3  get_obs(obs_id: str):\
    \cf7 if\cf3  obs_id \cf7 not\cf3  \cf7 in\cf3  DB:\
        \cf7 raise\cf3  HTTPException(\cf6 404\cf3 , \cf5 "Not found"\cf3 )\
    \cf7 return\cf3  DB[obs_id]\
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0
\cf9 @app.put(\cf5 "/observations/\{obs_id\}"\cf9 , response_model=FireObservation)\cf3 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0
\cf7 def\cf3  update_obs(obs_id: str, obs: FireObservation):\
    \cf7 if\cf3  obs_id \cf7 not\cf3  \cf7 in\cf3  DB:\
        \cf7 raise\cf3  HTTPException(\cf6 404\cf3 , \cf5 "Not found"\cf3 )\
    payload = obs.model_dump()\
    payload[\cf5 "id"\cf3 ] = obs_id\
    payload[\cf5 "created_at"\cf3 ] = DB[obs_id][\cf5 "created_at"\cf3 ]\
    payload[\cf5 "updated_at"\cf3 ] = now_iso()\
    DB[obs_id] = payload\
    \cf7 return\cf3  payload\
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0
\cf9 @app.post(\cf5 "/observations/\{obs_id\}/media"\cf9 )\cf3 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0
\cf7 def\cf3  upload_media(obs_id: str, file: UploadFile = File(...)):\
    \cf7 if\cf3  obs_id \cf7 not\cf3  \cf7 in\cf3  DB:\
        \cf7 raise\cf3  HTTPException(\cf6 404\cf3 , \cf5 "Not found"\cf3 )\
    \cf8 # store to S3/local disk; then attach URI in incident.perimeter_*_media\cf3 \
    \cf7 return\cf3  \{\cf5 "ok"\cf3 : \cf7 True\cf3 , \cf5 "filename"\cf3 : file.filename\}
\f2\fs24 \cf0 \
\
\
\uc0\u11835 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\sl324\slmult1\pardirnatural\partightenfactor0

\f1\fs32 \cf2 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\sl324\slmult1\pardirnatural\partightenfactor0

\f3\b\fs38 \cf2 6) Frontend scaffold (Next.js + form renderer)
\f1\b0\fs32 \
\
Approach: define the form as a 
\f0\b schema
\f1\b0 , render from schema, bind to state, and compute derived values via the engine.\
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\sl324\slmult1\pardirnatural\partightenfactor0

\f3\b\fs34 \cf2 formSchema.ts (conceptual)
\f2\b0\fs24 \cf0 \
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f4\fs28 \cf7 export\cf3  \cf7 const\cf3  formSchema = \{\
  \cf4 sections\cf3 : [\
    \{ \cf4 id\cf3 : \cf5 "incident"\cf3 , \cf4 title\cf3 : \cf5 "Incident Overview"\cf3 , \cf4 fields\cf3 : [\cf8 /* ... */\cf3 ] \},\
    \{ \cf4 id\cf3 : \cf5 "environment"\cf3 , \cf4 title\cf3 : \cf5 "Critical Environmental Inputs"\cf3 , \cf4 fields\cf3 : [\cf8 /* ... */\cf3 ] \},\
    \{ \cf4 id\cf3 : \cf5 "wind_slope"\cf3 , \cf4 title\cf3 : \cf5 "Wind & Slope Dynamics"\cf3 , \cf4 fields\cf3 : [\cf8 /* ... */\cf3 ] \},\
    \{ \cf4 id\cf3 : \cf5 "ros"\cf3 , \cf4 title\cf3 : \cf5 "Rate of Spread"\cf3 , \cf4 fields\cf3 : [\cf8 /* ... */\cf3 ] \},\
    \{ \cf4 id\cf3 : \cf5 "log"\cf3 , \cf4 title\cf3 : \cf5 "Operational Observations Log"\cf3 , \cf4 fields\cf3 : [\cf8 /* ... */\cf3 ] \},\
    \{ \cf4 id\cf3 : \cf5 "lces"\cf3 , \cf4 title\cf3 : \cf5 "ENSURE LCES"\cf3 , \cf4 fields\cf3 : [\cf8 /* ... */\cf3 ] \}\
  ]\
\} \cf7 as\cf3  \cf7 const\cf3 ;
\f2\fs24 \cf0 \
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\sl324\slmult1\pardirnatural\partightenfactor0

\f3\b\fs34 \cf2 Derived fields recompute
\f2\b0\fs24 \cf0 \
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f4\fs28 \cf7 import\cf3  \{ computeDerived \} \cf7 from\cf3  \cf5 "@/lib/engine"\cf3 ;\
\
\cf7 const\cf3  [obs, setObs] = useState<FireObservation>(initial);\
\
useEffect(() => \{\
  setObs(prev => computeDerived(prev));\
\}, [\
  obs.environment,\
  obs.wind_slope,\
  obs.ros\
]);
\f2\fs24 \cf0 \
\
\
\uc0\u11835 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\sl324\slmult1\pardirnatural\partightenfactor0

\f1\fs32 \cf2 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\sl324\slmult1\pardirnatural\partightenfactor0

\f3\b\fs38 \cf2 7) Calculation engine module (TypeScript)
\f2\b0\fs24 \cf0 \
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f4\fs28 \cf8 // lib/engine.ts\cf3 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0
\cf7 export\cf3  \cf7 function\cf3  computeDerived(\cf4 obs\cf3 : any) \{\
  \cf7 const\cf3  o = structuredClone(obs);\
\
  \cf7 const\cf3  midObs = o.wind_slope?.observed?.midflame_ws;\
  \cf7 const\cf3  slopeObs = o.wind_slope?.observed?.slope_contribution;\
  \cf7 if\cf3  (num(midObs) && num(slopeObs)) \{\
    o.wind_slope.observed.total_ews = midObs + slopeObs;\
  \}\
\
  \cf7 const\cf3  big = o.wind_slope?.ews_ratio_basis?.big_ews;\
  \cf7 const\cf3  small = o.wind_slope?.ews_ratio_basis?.small_ews;\
  \cf7 if\cf3  (num(big) && num(small) && small !== \cf6 0\cf3 ) \{\
    o.wind_slope.ews_ratio = big / small;\
  \}\
\
  \cf7 const\cf3  spread = o.ros?.observed_spread?.value;\
  \cf7 const\cf3  ratio = o.ros?.ros_ratio;\
  \cf7 if\cf3  (num(spread) && num(ratio) && ratio !== \cf6 0\cf3 ) \{\
    o.ros.calc = \{\
      \cf4 obs_over_ratio\cf3 : spread / ratio,\
      \cf4 obs_times_ratio\cf3 : spread * ratio\
    \};\
  \}\
\
  \cf7 return\cf3  o;\
\}\
\
\cf7 function\cf3  num(\cf4 x\cf3 : any): x is number \{\
  \cf7 return\cf3  \cf7 typeof\cf3  x === \cf5 "number"\cf3  && Number.isFinite(x);\
\}
\f2\fs24 \cf0 \
\
\
\uc0\u11835 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\sl324\slmult1\pardirnatural\partightenfactor0

\f1\fs32 \cf2 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\sl324\slmult1\pardirnatural\partightenfactor0

\f3\b\fs38 \cf2 8) PDF export (two good routes)
\f1\b0\fs32 \
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\sl324\slmult1\pardirnatural\partightenfactor0

\f3\b\fs34 \cf2 Route 1: Server-side PDF (best for fidelity)
\f1\b0\fs32 \
\pard\tqr\tx100\tx260\li260\fi-260\sl324\slmult1\sb240\partightenfactor0
\cf2 	\'95	Build an HTML template that matches the worksheet layout.\
	\'95	Fill it with obs data.\
	\'95	Render PDF via WeasyPrint.\
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\sl324\slmult1\pardirnatural\partightenfactor0

\f3\b\fs34 \cf2 Route 2: Client-side PDF
\f1\b0\fs32 \
\pard\tqr\tx100\tx260\li260\fi-260\sl324\slmult1\sb240\partightenfactor0
\cf2 	\'95	
\f5 pdf-lib
\f1  to draw boxes/lines and text.\
	\'95	More work to match the printed form precisely, but works offline.\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs24 \cf0 \
\uc0\u11835 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\sl324\slmult1\pardirnatural\partightenfactor0

\f1\fs32 \cf2 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\sl324\slmult1\pardirnatural\partightenfactor0

\f3\b\fs38 \cf2 9) If your friend wants \'93turn this exact paper into a digitized form\'94
\f1\b0\fs32 \
\
Two options:\
\pard\tqr\tx280\tx440\li440\fi-440\sl324\slmult1\sb240\partightenfactor0
\cf2 	1.	
\f0\b Manual mapping (recommended):
\f1\b0  Use the schema + UI layout matching the worksheet.\
	2.	
\f0\b Auto-form extraction:
\f1\b0  use the photo as a background image, and overlay input hotspots (like a fillable PDF). Good for fast \'93looks identical\'94 but less flexible.\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs24 \cf0 \
\uc0\u11835 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\sl324\slmult1\pardirnatural\partightenfactor0

\f1\fs32 \cf2 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\sl324\slmult1\pardirnatural\partightenfactor0

\f3\b\fs38 \cf2 10) Suggested repo layout (drop-in)
\f2\b0\fs24 \cf0 \
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f4\fs28 \cf3 fire-worksheet/\
  apps/\
    web/                 # Next.js PWA\
  services/\
    api/                 # FastAPI\
  packages/\
    schema/              # JSON schema + TS types\
    engine/              # shared calc engine\
  docs/\
    data-dictionary.md\
    research-mapping.md  # how fields map to Admin Capacity / SPOF\
  docker-compose.yml\
  README.md
\f2\fs24 \cf0 \
\
\
\uc0\u11835 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\sl324\slmult1\pardirnatural\partightenfactor0

\f1\fs32 \cf2 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\sl324\slmult1\pardirnatural\partightenfactor0

\f3\b\fs38 \cf2 11) What I need from you (to make the calculations \'93real\'94)
\f1\b0\fs32 \
\
You don\'92t need to answer now to start coding, but the \'93Tbl 1 / Tbl 2 / Fig A/B/C\'94 items imply domain tables. To implement accurately, you\'92ll eventually want:\
\pard\tqr\tx100\tx260\li260\fi-260\sl324\slmult1\sb240\partightenfactor0
\cf2 	\'95	The actual Table 1 (EWS ratio) and Table 2 (ROS ratio) definitions (or photos of the reference pages).\
	\'95	Units expectations (mph vs ft/min vs chains/hr).\
	\'95	How \'93Pred/obs 20/EL WS\'94 is computed in your workflow.\
\
Until then, keep it config-driven and treat those as lookups.\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\pardirnatural\partightenfactor0

\f2\fs24 \cf0 \
\uc0\u11835 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\sl324\slmult1\pardirnatural\partightenfactor0

\f1\fs32 \cf2 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\sl324\slmult1\pardirnatural\partightenfactor0

\f3\b\fs38 \cf2 12) Quick next step: turn this into a runnable starter in 30\'9660 mins
\f1\b0\fs32 \
\
If you want the fastest path, tell your friend to start with:\
\pard\tqr\tx100\tx260\li260\fi-260\sl324\slmult1\sb240\partightenfactor0
\cf2 	\'95	Next.js PWA form (schema-based)\
	\'95	local storage (IndexedDB)\
	\'95	export JSON\
	\'95	stub PDF (simple layout)\
	\'95	FastAPI later\
\
If you want, paste what stack your friend prefers (
\f0\b Next.js
\f1\b0 , 
\f0\b Flutter
\f1\b0 , or 
\f0\b React Native
\f1\b0 ), and I\'92ll tailor the exact scaffolding commands + minimal runnable code (including a form screen that matches the worksheet sections and writes JSON).\
\
}